/**
 * Search on demand.
 * Loading the next pool of models.
 */
$(document).ready(function(){$('body').on('click','.btn.search-submit',function(){$("#model-grid").yiiGridView("applyFilter")});$('body').on('click','.btn.load-more',function(){var that=$(this);var offset=that.attr('data-offset');var model_index=$('.model-index');var model_grid=model_index.find('#model-grid');var model_table_body=model_grid.find('table tbody');var summary=model_grid.find('.summary b');var filter=model_grid.find('.filters');var spinner=model_index.find('.model-spinner');spinner.show();$.ajax({url:load_more_url,data:(filter.find('.form-control').serialize()+'&offset='+offset),success:function(response){if(response.count){model_table_body.append(response.content);summary.text(Number(summary.text())+Number(response.count));that.attr('data-offset',Number(offset)+Number(response.count))}else that.attr('disabled','disabled');spinner.hide()}})})})
